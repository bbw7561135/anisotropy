#!/usr/bin/env python

def runIsGood(line):

    # Make sure line is long enough
    if len(line) < 44:
        return False
    # Make sure line does not contain notes
    c1 = (line[0]==' ')
    c2 = (line[1]!=' ')
    # Make sure run is good
    IT = line[28:30]
    GOOD = line[40:44]
    c3 = (IT=='IT')
    c4 = (GOOD=='GOOD')
    return c1*c2*c3*c4

def fileCleaner(runFile, fileList):

    f = open(runFile, 'r')
    lines = f.readlines()
    goodRunList = []
    for line in lines:
        if runIsGood(line):
            goodRunList.append('00'+line[1:7])

    f.close()
    goodRunList.sort()

    cleanList = []
    for file in fileList:
        run_st = file.find('Run') + 3
        run = file[run_st:run_st+8]
        if run in goodRunList:
            cleanList.append(file)

    return cleanList

